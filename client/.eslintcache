[{"C:\\Users\\qhsl0\\Documents\\beginner_gain\\client\\src\\index.js":"1","C:\\Users\\qhsl0\\Documents\\beginner_gain\\client\\src\\App.js":"2","C:\\Users\\qhsl0\\Documents\\beginner_gain\\client\\src\\components\\Body.js":"3","C:\\Users\\qhsl0\\Documents\\beginner_gain\\client\\src\\components\\Navigation.js":"4","C:\\Users\\qhsl0\\Documents\\beginner_gain\\client\\src\\components\\Header.js":"5","C:\\Users\\qhsl0\\Documents\\beginner_gain\\client\\src\\components\\Footer.js":"6","C:\\Users\\qhsl0\\Documents\\beginner_gain\\client\\src\\components\\Post.js":"7","C:\\Users\\qhsl0\\Documents\\beginner_gain\\client\\src\\components\\Writing.js":"8","C:\\Users\\qhsl0\\Documents\\beginner_gain\\client\\src\\routes\\Login.js":"9","C:\\Users\\qhsl0\\Documents\\beginner_gain\\client\\src\\routes\\SignUp.js":"10","C:\\Users\\qhsl0\\Documents\\beginner_gain\\client\\src\\routes\\News.js":"11","C:\\Users\\qhsl0\\Documents\\beginner_gain\\client\\src\\routes\\Home.js":"12","C:\\Users\\qhsl0\\Documents\\beginner_gain\\client\\src\\routes\\Hire.js":"13","C:\\Users\\qhsl0\\Documents\\beginner_gain\\client\\src\\routes\\Forum.js":"14","C:\\Users\\qhsl0\\Documents\\beginner_gain\\client\\src\\routes\\IdPw.js":"15","C:\\Users\\qhsl0\\Documents\\beginner_gain\\client\\src\\routes\\Qna.js":"16","C:\\Users\\qhsl0\\Documents\\beginner_gain\\client\\src\\routes\\Chat.js":"17","C:\\Users\\qhsl0\\Documents\\beginner_gain\\client\\src\\routes\\Talk.js":"18","C:\\Users\\qhsl0\\Documents\\beginner_gain\\client\\src\\components\\Board.js":"19","C:\\Users\\qhsl0\\Documents\\beginner_gain\\client\\src\\lib\\PublicRoute.js":"20","C:\\Users\\qhsl0\\Documents\\beginner_gain\\client\\src\\lib\\PrivateRoute.js":"21","C:\\Users\\qhsl0\\Documents\\beginner_gain\\client\\src\\lib\\PrismImport.js":"22","C:\\Users\\qhsl0\\Documents\\beginner_gain\\client\\src\\components\\NotFound.js":"23","C:\\Users\\qhsl0\\Documents\\beginner_gain\\client\\src\\components\\TagBox.js":"24"},{"size":236,"mtime":1611237644637,"results":"25","hashOfConfig":"26"},{"size":516,"mtime":1611666897608,"results":"27","hashOfConfig":"26"},{"size":1655,"mtime":1612014568051,"results":"28","hashOfConfig":"26"},{"size":479,"mtime":1610973636522,"results":"29","hashOfConfig":"26"},{"size":1203,"mtime":1611746464407,"results":"30","hashOfConfig":"26"},{"size":226,"mtime":1611237644445,"results":"31","hashOfConfig":"26"},{"size":11243,"mtime":1612012500702,"results":"32","hashOfConfig":"26"},{"size":5722,"mtime":1612081989441,"results":"33","hashOfConfig":"26"},{"size":1843,"mtime":1611906657373,"results":"34","hashOfConfig":"26"},{"size":1931,"mtime":1611853603733,"results":"35","hashOfConfig":"26"},{"size":277,"mtime":1611237644853,"results":"36","hashOfConfig":"26"},{"size":343,"mtime":1611237644770,"results":"37","hashOfConfig":"26"},{"size":208,"mtime":1611237644727,"results":"38","hashOfConfig":"26"},{"size":201,"mtime":1612028154378,"results":"39","hashOfConfig":"26"},{"size":1631,"mtime":1611237644791,"results":"40","hashOfConfig":"26"},{"size":273,"mtime":1612008514270,"results":"41","hashOfConfig":"26"},{"size":211,"mtime":1611237644651,"results":"42","hashOfConfig":"26"},{"size":256,"mtime":1612008528051,"results":"43","hashOfConfig":"26"},{"size":7738,"mtime":1612090023583,"results":"44","hashOfConfig":"26"},{"size":772,"mtime":1611836785965,"results":"45","hashOfConfig":"26"},{"size":763,"mtime":1611836754200,"results":"46","hashOfConfig":"26"},{"size":982,"mtime":1611749161876,"results":"47","hashOfConfig":"26"},{"size":159,"mtime":1612008996939,"results":"48","hashOfConfig":"26"},{"size":1645,"mtime":1612039962769,"results":"49","hashOfConfig":"26"},{"filePath":"50","messages":"51","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},"9vgzwf",{"filePath":"53","messages":"54","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"55","messages":"56","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"57","messages":"58","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"59","messages":"60","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"61","messages":"62","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"63","messages":"64","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"65","usedDeprecatedRules":"52"},{"filePath":"66","messages":"67","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"68","messages":"69","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"70","messages":"71","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"72","messages":"73","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"74","messages":"75","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"76","messages":"77","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"78","messages":"79","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"80","messages":"81","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"82","usedDeprecatedRules":"52"},{"filePath":"83","messages":"84","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"85","messages":"86","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"87","messages":"88","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"89","messages":"90","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"91","usedDeprecatedRules":"52"},{"filePath":"92","messages":"93","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"94","messages":"95","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"96","messages":"97","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"98","messages":"99","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"100","messages":"101","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"102","usedDeprecatedRules":"103"},"C:\\Users\\qhsl0\\Documents\\beginner_gain\\client\\src\\index.js",[],["104","105"],"C:\\Users\\qhsl0\\Documents\\beginner_gain\\client\\src\\App.js",[],"C:\\Users\\qhsl0\\Documents\\beginner_gain\\client\\src\\components\\Body.js",[],"C:\\Users\\qhsl0\\Documents\\beginner_gain\\client\\src\\components\\Navigation.js",[],"C:\\Users\\qhsl0\\Documents\\beginner_gain\\client\\src\\components\\Header.js",[],"C:\\Users\\qhsl0\\Documents\\beginner_gain\\client\\src\\components\\Footer.js",[],"C:\\Users\\qhsl0\\Documents\\beginner_gain\\client\\src\\components\\Post.js",["106"],"import React, { useState, useEffect, useCallback } from 'react';\r\nimport '../css/Components.css';\r\nimport Axios from 'axios';\r\nimport { CKEditor } from '@ckeditor/ckeditor5-react';\r\nimport Editor from 'ckeditor5-custom-build/build/ckeditor';\r\nimport { Link } from \"react-router-dom\";\r\nimport Prism from \"../lib/PrismImport\";\r\n\r\nconst editorConfiguration = {\r\n    simpleUpload: { uploadUrl: '/upload'},\r\n    toolbar: ['heading', '|', 'bold', 'italic', '|', 'link', 'blockquote', 'code', 'imageupload', 'codeblock', '|', 'numberedlist', 'bulletedlist', 'horizontalline', '|', 'undo', 'redo']\r\n};\r\n\r\nfunction Post(props) {\r\n    const [post] = useState(props.location.state ? props.location.state : JSON.parse(localStorage.getItem('prev')));\r\n    const [comment, setComment] = useState([]);\r\n    const [mod, setMod] = useState('');\r\n    const [mode, setMode] = useState(false);\r\n    const [modIdx, setModIdx] = useState('');\r\n    const [commentnum, setCommentnum] = useState(0);\r\n    const [postcommentN, setpostCommentN] = useState(0);\r\n\r\n\r\n    const loadComment = useCallback( async () => {\r\n        const idx = post.idx;\r\n        if (post.name === \"qna\") {\r\n            Axios.post('http://localhost:8000/board/getqna_c', {\r\n                idx: idx\r\n            }).then((response) => {\r\n                setComment(response.data);\r\n                Prism();\r\n            })\r\n            Axios.post('http://localhost:8000/board/getqna_total', {\r\n                idx: idx\r\n            }).then((response) => {\r\n                 setCommentnum(response.data[0].Total);\r\n            })\r\n        } else if (post.name === \"talk\") {\r\n            Axios.post('http://localhost:8000/board/gettalk_c', {\r\n                idx: idx\r\n            }).then((response) => {\r\n                setComment(response.data);\r\n                Prism();\r\n            })\r\n            Axios.post('http://localhost:8000/board/gettalk_total', {\r\n                idx: idx\r\n            }).then((response) => {\r\n                 setCommentnum(response.data[0].Total);\r\n            })\r\n        }\r\n    }, [post.idx, post.name]);\r\n\r\n\r\n    useEffect(() => {\r\n    \tif (post.name === \"qna\") {\r\n\t  \t\tAxios.post('http://localhost:8000/board/getqHit',{\r\n\t         idx: post.idx,\r\n\t         hit: post.hit+1\r\n\t      \t}).then((response) => {})\r\n        } else if (post.name === \"talk\") {\r\n\t\t\tAxios.post('http://localhost:8000/board/gettHit',{\r\n\t         idx: post.idx,\r\n\t         hit: post.hit+1\r\n\t      \t}).then((response) => {})\r\n\t\t}\r\n        setpostCommentN(post.commentN);\r\n\t}, []);\r\n    useEffect(() => {\r\n        Prism();\r\n        if (props.location.state !== undefined) {\r\n            localStorage.setItem(\"prev\", JSON.stringify(props.location.state));\r\n        }\r\n\r\n        loadComment();\r\n    }, [loadComment, props.location.state])\r\n\r\n\r\n    const delBtn = (e) => {\r\n        if (window.confirm(\"삭제하시겠습니까?\")) {\r\n            const idx = e.target.getAttribute('post-idx');\r\n            if (post.name === \"qna\") {\r\n                Axios.post('http://localhost:8000/board/deleteqna', {\r\n                    idx: idx\r\n                }).then(() => {\r\n                    props.history.push(\"/qna\")\r\n                    alert(\"삭제 되었습니다!\");\r\n                })\r\n            } else if (post.name === \"talk\") {\r\n                Axios.post('http://localhost:8000/board/deletetalk', {\r\n                    idx: idx\r\n                }).then(() => {\r\n                    props.history.push(\"/talk\")\r\n                    alert(\"삭제 되었습니다!\");\r\n                })\r\n            }\r\n        }\r\n    }\r\n\r\n    const delBtn_c = (e) => {\r\n        if (window.confirm(\"삭제하시겠습니까?\")) {\r\n            const idx = e.target.getAttribute('comment-idx');\r\n            if (post.name === \"qna\") {\r\n                Axios.post('http://localhost:8000/board/deleteqna_c', { idx: idx })\r\n                Axios.post('http://localhost:8000/board/deleteqna_cN', {\r\n                   idx: post.idx,\r\n                   commentN: (postcommentN-1)\r\n               }).then((response) => { loadComment(); })\r\n            } else if (post.name === \"talk\") {\r\n                Axios.post('http://localhost:8000/board/deletetalk_c', { idx: idx })\r\n                Axios.post('http://localhost:8000/board/deletetalk_cN', {\r\n                   idx: post.idx,\r\n                   commentN: (postcommentN-1)\r\n               }).then((response) => { loadComment(); })\r\n         \talert(\"삭제 되었습니다!\");\r\n            }\r\n            setpostCommentN(postcommentN-1);\r\n\t\t}\r\n    }\r\n\r\n    const modBtn_c = (e) => {\r\n        setMode(true);\r\n        setMod(e.target.getAttribute('comment-contents'));\r\n        setModIdx(e.target.getAttribute('comment-idx'));\r\n    }\r\n\r\n    const updateBtn_c = (e) => {\r\n        if (window.confirm(\"수정하시겠습니까?\")) {\r\n            const idx = modIdx;\r\n            if (post.name === \"qna\") {\r\n                Axios.post('http://localhost:8000/board/updateqna_c', {\r\n                    idx: idx,\r\n                    contents: mod\r\n                }).then(() => { loadComment(); })\r\n            } else if (post.name === \"talk\") {\r\n                Axios.post('http://localhost:8000/board/updatetalk_c', {\r\n                    idx: idx,\r\n                    contents: mod\r\n                }).then(() => { loadComment(); })\r\n            }\r\n            alert(\"수정 되었습니다!\");\r\n        }\r\n        setMod('');\r\n        setMode(false);\r\n    }\r\n\r\n    const handleCkeditorState = (event, editor) => {\r\n        const data = editor.getData();\r\n        setMod(data);\r\n    }\r\n\r\n    const onSubmitHandler = (event) => {\r\n        if(mod.length !== 0){\r\n            setCommentnum(post.commentN+1);\r\n            if (post.name === \"qna\") {\r\n                Axios.post('http://localhost:8000/board/postqna', {\r\n                    bid: post.idx,\r\n                    writer: \"writer\",\r\n                    contents:mod,\r\n                    img: null,\r\n                    good: 8,\r\n                    commentN: (postcommentN+1)\r\n                }).then(() => {\r\n                    loadComment();\r\n                })\r\n                .catch((error) => { console.log(error) });\r\n            } else {\r\n                Axios.post('http://localhost:8000/board/posttalk', {\r\n                    bid: post.idx,\r\n                    writer: \"writer\",\r\n                    contents:mod,\r\n                    img: null,\r\n                    good: 8,\r\n                    commentN: (postcommentN+1)\r\n                }).then(() => {\r\n                    loadComment();\r\n                })\r\n                .catch((error) => { console.log(error) });\r\n            }\r\n            alert(\"작성 되었습니다.\");\r\n            setpostCommentN(postcommentN+1);\r\n            setMod('');\r\n            loadComment();     \r\n        }else{\r\n            alert(\"댓글을 입력해주세요.\");\r\n        }\r\n    }\r\n\r\n    const onptbHandler = (event) => {\r\n        if (post.name === \"talk\")\r\n            props.history.push(\"/talk\")\r\n        else\r\n            props.history.push(\"/qna\")\r\n    }\r\n\r\n    return (\r\n        <div className=\"Post\">\r\n            <div className='form-wrapper'>\r\n                <div className=\"question-header\">\r\n                    <p className=\"bolder\">{post.title}</p>\r\n                </div>\r\n                <div className=\"grid\">\r\n                    <div>\r\n                        <span>Asked</span>\r\n                        <time>{post.rdate}</time>\r\n                    </div>\r\n                    <div>\r\n                        <span>Viewed</span>\r\n                        {post.hit+1} times\r\n                    </div>\r\n                    {(props.id === post.writer) && //로그인 한 사람이 글 작성자라면 글 삭제 및 수정 가능\r\n                    <div className=\"writer\">\r\n                        <Link\r\n                        to={{\r\n                           pathname : `/${props.match.params.name}/modify/${post.idx}`,\r\n                           state: {\r\n                                key : post.idx,\r\n                                idx : post.idx,\r\n                                title : post.title,\r\n                                contents : post.contents,\r\n                                tag : post.tag,\r\n                                category : post.category,\r\n                                name : post.name\r\n                            }\r\n                        }}>\r\n                        <button className=\"modifyBtn\"> 수정 </button></Link>\r\n                        <button className=\"deleteBtn\" onClick={delBtn} post-idx={post.idx}> 삭제 </button>\r\n                    </div>}\r\n                </div>\r\n                <br/>\r\n                <hr />\r\n                <div className=\"question-body\">\r\n                    <div className=\"selctContents\" dangerouslySetInnerHTML={ {__html: post.contents} }></div>\r\n                    <div className=\"user-info\">\r\n                        <span>asked {post.rdate} {post.writer}</span>\r\n                    </div>               \r\n                </div>\r\n                <hr/>\r\n\r\n                <p className=\"bold\">{commentnum}개의 답변</p>\r\n                {comment.map(element =>(\r\n                    <div className=\"question-answer\" key={element.idx}>\r\n                        <div className=\"selctContents\" dangerouslySetInnerHTML={ {__html: element.contents}}></div>                    \r\n                        <div className=\"user-info\"> \r\n                            <span>answered {element.cdate} {element.writer}</span>\r\n                            {(props.id === post.writer) && //로그인 한 사람이 글 작성자라면 댓글 삭제만 가능\r\n                                <button className=\"deleteBtn\" onClick={delBtn_c} comment-idx={element.idx}> 삭제 </button>}\r\n                            {(props.id === element.writer) && //로그인 한 사람이 댓글 작성자라면 댓글 삭제 및 수정 가능\r\n                            <div>\r\n                                <button className=\"modifyBtn\" onClick={modBtn_c} comment-contents={element.contents} comment-idx={element.idx}> 수정 </button>\r\n                                <button className=\"deleteBtn\" onClick={delBtn_c} comment-idx={element.idx}> 삭제 </button>\r\n                            </div>}\r\n                        </div>   \r\n                    </div>\r\n                ))}\r\n\r\n                <p className=\"bold\">댓글작성</p>\r\n                {props.id ?\r\n                <CKEditor\r\n                    editor={ Editor }\r\n                    config={ editorConfiguration }\r\n                    data= {mod}\r\n                    onChange={ handleCkeditorState }\r\n                /> : \r\n                <CKEditor\r\n                    editor={ Editor }\r\n                    config={ editorConfiguration }\r\n                    data= {\"로그인 후 이용해주세요\"}\r\n                />}\r\n                { mode? <button className=\"modify-button\" onClick={updateBtn_c}>수정</button> : props.id &&<button className=\"submit-button\" onClick={onSubmitHandler}>작성</button> }\r\n                <button className=\"toboard\" onClick={onptbHandler}>목록으로</button> \r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Post;","C:\\Users\\qhsl0\\Documents\\beginner_gain\\client\\src\\components\\Writing.js",[],"C:\\Users\\qhsl0\\Documents\\beginner_gain\\client\\src\\routes\\Login.js",[],"C:\\Users\\qhsl0\\Documents\\beginner_gain\\client\\src\\routes\\SignUp.js",[],"C:\\Users\\qhsl0\\Documents\\beginner_gain\\client\\src\\routes\\News.js",[],"C:\\Users\\qhsl0\\Documents\\beginner_gain\\client\\src\\routes\\Home.js",[],"C:\\Users\\qhsl0\\Documents\\beginner_gain\\client\\src\\routes\\Hire.js",[],"C:\\Users\\qhsl0\\Documents\\beginner_gain\\client\\src\\routes\\Forum.js",[],"C:\\Users\\qhsl0\\Documents\\beginner_gain\\client\\src\\routes\\IdPw.js",["107","108"],"import React, {useState} from \"react\";\r\nimport \"../css/Components.css\";\r\n\r\nfunction IdPw() {\r\n\r\n\tconst [Name,setName] = useState(\"\")\r\n\tconst [Email,setEmail] = useState(\"\")\r\n\tconst [ID,setID] = useState(\"\")\r\n\tconst [PW,setPW] = useState(\"\")\r\n\tconst onNameHandler = (event) => { setName (event.currentTarget.value) }\r\n\tconst onEmailHandler = (event) => { setEmail (event.currentTarget.value) }\r\n\tconst onIDHandler = (event) => { setID (event.currentTarget.value) }\r\n\tconst onPWHandler = (event) => { setPW (event.currentTarget.value) }\r\n\r\n\treturn (\r\n\t\t<div className=\"container\">\r\n\t\t\t<div>\r\n\t\t\t\t<form>\r\n\t\t\t\t\t<h3>아이디 찾기</h3>\r\n\t\t\t\t\t<label>성명</label>\r\n\t\t\t\t\t<input className=\"Name-input\" type='text' placeholder='성명' value={Name} onChange={onNameHandler} name='name' />\r\n\r\n\t\t\t\t\t<label>이메일</label>\r\n\t\t\t\t\t<input className=\"Email-input\" type='email' placeholder='이메일' value={Email}  onChange={onEmailHandler} name='email'/>\r\n\t\t\t\t\t<button className=\"get-id\"> 찾기</button>\r\n\r\n\t\t\t\t\t<hr/>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<h3>비밀번호 찾기</h3>\r\n\t\t\t\t\t<label>아이디</label>\r\n\t\t\t\t\t<input className=\"ID-input\" type='text' placeholder='아이디' value={ID} onChange={onIDHandler} name='id'/>\r\n\r\n\t\t\t\t\t<label>성명</label>\r\n\t\t\t\t\t<input className=\"Name-input\" type='text' placeholder='성명' value={Name} onChange={onNameHandler} name='name' />\r\n\r\n\t\t\t\t\t<label>이메일</label>\r\n\t\t\t\t\t<input className=\"Email-input\" type='email' placeholder='이메일' value={Email}  onChange={onEmailHandler} name='email'/>\r\n\r\n\t\t\t\t\t<button className=\"get-pw\"> 찾기</button>\r\n\t\t\t\t</form>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default IdPw;","C:\\Users\\qhsl0\\Documents\\beginner_gain\\client\\src\\routes\\Qna.js",[],"C:\\Users\\qhsl0\\Documents\\beginner_gain\\client\\src\\routes\\Chat.js",[],"C:\\Users\\qhsl0\\Documents\\beginner_gain\\client\\src\\routes\\Talk.js",[],"C:\\Users\\qhsl0\\Documents\\beginner_gain\\client\\src\\components\\Board.js",["109","110"],"import React, {useState, useEffect} from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { faSearch } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport \"../css/Components.css\";\r\nimport striptags from 'striptags';\r\nimport Axios from 'axios';\r\n\r\nfunction Board(props) {\r\n\t// 페이징\r\n\tconst [viewContent, setViewContent] = useState([]);\r\n\tconst [curPage, setcurPage] = useState(0);\r\n\tconst [lastPage, setlastPage] = useState(0);\r\n\tconst [minbtn, setMinBtn] = useState(0);\r\n\tconst [maxbtn, setMaxBtn] = useState(0);\r\n\tlet array = [];\r\n\r\n\tconst [generalSearch, setGeneralSearch] = useState('');\r\n\tconst [searchValue, setSearchValue] = useState([]);\r\n\tconst [total, setTotal] = useState(0);\r\n\tconst onGeneralSearchHandler = (event) => {setGeneralSearch(event.currentTarget.value);}\r\n\tconst [loading, setLoading] = useState(false);\r\n\r\n\tlet name = '';\r\n\tif(props.location !== undefined){\r\n\t\tname = props.match.path.split(\"/\").[1];\r\n\t}else{\r\n\t\tname = props.match.split(\"/\").[1];\r\n\t}\r\n\r\n    let search = \"태그\";\r\n    if (name === \"talk\") search = \"카테고리\";\r\n\r\n    const loadList = async () => {\r\n    \tlet url = \"http://localhost:8000/board/getBoard/1/qna\";\r\n    \tif(name === \"talk\") url = 'http://localhost:8000/board/getBoard/1/talk';\r\n    \tawait Axios.get(url).then((res)=>{\r\n\t\t\tsetViewContent(res.data.model.boardList);\r\n\t\t\tsetcurPage(res.data.model.currentPage);\r\n            setlastPage(res.data.model.lastPage);\r\n            setMinBtn(res.data.model.minBtn);\r\n            setMaxBtn(res.data.model.maxBtn);\r\n\t\t})\r\n    }\r\n\r\n    const loadSearch = async () => {\r\n    \tif (props.location !== undefined){\r\n\t        let value = props.match.params.q;\r\n\t        let kind = props.match.params.kind;\r\n\t\t\tif (name === \"qna\") {\r\n\t\t\t\tAxios.post('http://localhost:8000/board/searchqna', {\r\n\t\t\t\t\tvalue : value,\r\n\t\t\t\t\tkind : kind\r\n\t\t\t\t}).then((response) => {\r\n\t\t\t\t\tif(response.data.length === 0){\r\n\t\t\t\t\t\tsetSearchValue([]);\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse{\r\n\t\t\t\t\t\tsetSearchValue(response.data);\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t} else if (name === \"talk\") {\r\n\t\t\t\tAxios.post('http://localhost:8000/board/searchtalk', {\r\n\t\t\t\t\tvalue : value,\r\n\t\t\t\t\tkind : kind\r\n\t\t\t\t}).then((response) => {\r\n\t\t\t\t\tif(response.data.length === 0)\r\n\t\t\t\t\t\tsetSearchValue([]);\r\n\t\t\t\t\telse{\r\n\t\t\t\t\t\tsetSearchValue(response.data);\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t    }\r\n    }\r\n\r\n    const onClick = async (e) => {\r\n    \tconst idxs = e.target.dataset.idx;\r\n    \tlet url = \"http://localhost:8000/board/getBoard/\"+idxs+\"/qna\";\r\n    \tif(name === \"talk\") url = \"http://localhost:8000/board/getBoard/\"+idxs+\"/talk\";\r\n    \t\r\n        await Axios.get(url).then((res) => {\r\n            setcurPage(res.data.model.currentPage);\r\n            setlastPage(res.data.model.lastPage);\r\n            setMinBtn(res.data.model.minBtn);\r\n            setMaxBtn(res.data.model.maxBtn);\r\n            setViewContent(res.data.model.boardList);\r\n        })\r\n    }\r\n\r\n    useEffect(() => {\r\n    \tloadList();\r\n    \tloadSearch();\r\n\t\tif (name ===\"qna\"){\r\n\t\t\tAxios.get('http://localhost:8000/board/getqTotal').then((response) => {\r\n\t\t\t\tsetTotal(response.data[0].Total);\r\n\t\t})}\r\n\t\telse{\r\n\t\t\tAxios.get('http://localhost:8000/board/gettTotal').then((response) => {\r\n\t\t\t\tsetTotal(response.data[0].Total);\r\n\t\t})}\r\n\r\n\t\treturn () => setLoading(false);\r\n\t}, [searchValue])\r\n\t\r\n    \r\n    const searchBtn = (e) => {\r\n    \tsetLoading(true);\r\n    \tif(props.location !== undefined)\r\n\t\t\tprops.history.replace(`/${name}/search/general/${generalSearch}`);\r\n\t\telse\r\n\t\t\tprops.history.push(`/${name}/search/general/${generalSearch}`);\r\n\t\t//props.history.push(`/${name}/search/${generalSearch}`);\r\n\t}\r\n\r\n    return (   \t\r\n        <div className=\"menu__container\">\r\n\t\t\t<h2>{name.toUpperCase()}</h2>\t\t\r\n\t\t\t<div className=\"board_top\">\r\n\t\t\t\t<p>총 게시물 {total}개</p>\r\n\t\t\t\t<ul className=\"board_list\">\r\n\t\t\t\t\t<li>\r\n\t\t\t\t\t\t<input type=\"text\" placeholder=\"검색\" onChange={onGeneralSearchHandler}/>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t\t<li>\r\n\t\t\t\t\t<button type=\"submit\" onClick={searchBtn}>\r\n\t\t\t\t\t\t<FontAwesomeIcon icon={faSearch} size=\"2x\" />\r\n\t\t\t\t\t</button>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t</ul>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div className=\"tagSearch\">\r\n\t\t\t\t<div className=\"tagTitle left\">{search}검색</div>\r\n\t\t\t\t<div className=\"right\">\r\n\t\t\t\t\t<div className=\"tagInput\">\r\n\t\t\t\t\t\t<input type=\"text\" placeholder={`${search} 추가`}/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"tagBox\"></div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t\r\n\t\t\t<div className=\"board_contents\">\r\n\t\t\t{(props.location !== undefined) ?\r\n\t\t\t\t((searchValue.length === 0) ? <div className=\"list\"><p><strong>\"{props.match.params.q}\"</strong>와(과) 일치하는 검색 결과가 없습니다</p></div> \r\n\t\t\t\t: List(searchValue, total, name, curPage))\r\n\t\t\t:\r\n\t\t\t\t((viewContent.length === 0) ? <div className=\"list\"><p>등록된 게시물이 없습니다</p></div>\r\n\t\t\t\t: List(viewContent, total, name, curPage))\r\n\t\t\t}\r\n\r\n\t\t\t</div>\r\n\t\t\t\r\n\t\t\t<Link to={`/${name}/writing`}>\r\n\t\t\t\t<button className=\"writeBtn\">글쓰기</button>\r\n\t\t\t</Link>\r\n\r\n\t\t\t{/* 페이징 */}\r\n\t\t\t<div className=\"paging\">\r\n\t\t\t\t{ (curPage !== 1) && (<button type=\"button\" onClick={onClick} data-idx={curPage-1}>이전</button>) }\r\n\t\t\t\t{\r\n\t\t\t\t\t(() => {\r\n\t\t\t\t\t\tfor(let i = minbtn; i < maxbtn; i++) {\r\n\t\t\t\t\t\t\tif(curPage === i) array.push(<button type=\"button\" className=\"checkBtn\" key={i} onClick={onClick} data-idx={i}>{i}</button>);\r\n\t\t\t\t\t\t\telse array.push(<button type=\"button\" onClick={onClick} key={i} data-idx={i}>{i}</button>);\r\n\t\t\t\t\t\t\tif(i >= lastPage) break;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\treturn (array);\r\n\t\t\t\t\t})()\r\n\t\t\t\t}\r\n\t\t\t\t{ (curPage < lastPage) && (<button type=\"button\" onClick={onClick} data-idx={curPage+1}>다음</button>) }\r\n\t\t\t</div>\r\n\t\t</div>\r\n    );\r\n}\r\n\r\nfunction List(mapper, total, name, curPage){\r\n\treturn(\r\n\t\tmapper.map((element,i) =>(\r\n\t\t\t<div className=\"list\" key={element.idx}>\r\n\t\t\t\t<div className=\"left\">\r\n\t\t\t\t\t<h3>Q.{total - i - ((curPage-1)*5)}</h3>\r\n\t\t\t\t\t<p>답변 - {element.commentN}개</p>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"right\">\r\n\t\t\t\t\t<Link\r\n\t\t\t\t\t\tto={{\r\n\t\t\t\t\t\t\tpathname: `/${name}/post/${element.idx}`,\r\n\t\t\t\t\t\t\tstate: {\r\n\t\t\t\t\t\t\t\tidx : element.idx,\r\n\t\t\t\t\t\t\t\twriter : element.writer,\r\n\t\t\t\t\t\t\t\ttitle : element.title,\r\n\t\t\t\t\t\t\t\tcontents : element.contents,\r\n\t\t\t\t\t\t\t\ttag : element.tag,\r\n\t\t\t\t\t\t\t\tcategory : element.category,\r\n\t\t\t\t\t\t\t\thit : element.hit,\r\n\t\t\t\t\t\t\t\trdate : element.rdate,\r\n\t\t\t\t\t\t\t\tcommentN : element.commentN,\r\n\t\t\t\t\t\t\t\tname : name\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<h3>{element.title}</h3>\r\n\t\t\t\t\t</Link>\r\n\t\t\t\t\t<p>{striptags(element.contents)}</p>\r\n\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<div className=\"tags left\">\r\n\t\t\t\t\t\t\t{element.category && (\r\n\t\t\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\t\t\t{(element.category1 !== null) && \r\n\t\t\t\t\t\t\t\t\t<Link to={`/${name}/search/tag/${element.category1}`}>{element.category1}</Link>}\r\n\t\t\t\t\t\t\t\t\t{(element.category2 !== null) && \r\n\t\t\t\t\t\t\t\t\t<Link to={`/${name}/search/tag/${element.category2}`}>{element.category2}</Link>}\r\n\t\t\t\t\t\t\t\t\t{(element.category3 !== null) && \r\n\t\t\t\t\t\t\t\t\t<Link to={`/${name}/search/tag/${element.category3}`}>{element.category3}</Link>}\r\n\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t{element.tag && (\r\n\t\t\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\t\t\t{(element.tag1 !== null) && \r\n\t\t\t\t\t\t\t\t\t<Link to={`/${name}/search/tag/${element.tag1}`}>{element.tag1}</Link>}\r\n\t\t\t\t\t\t\t\t\t{(element.tag2 !== null) && \r\n\t\t\t\t\t\t\t\t\t<Link to={`/${name}/search/tag/${element.tag2}`}>{element.tag2}</Link>}\r\n\t\t\t\t\t\t\t\t\t{(element.tag3 !== null) && \r\n\t\t\t\t\t\t\t\t\t<Link to={`/${name}/search/tag/${element.tag3}`}>{element.tag3}</Link>}\r\n\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"info right\">\r\n\t\t\t\t\t\t\t<p>작성자 : <span className=\"writer\">{element.writer}</span> &nbsp;&nbsp;조회수 : <span className=\"hit\">{element.hit}</span></p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t))\r\n\t);\r\n}\r\n\r\nexport default Board;","C:\\Users\\qhsl0\\Documents\\beginner_gain\\client\\src\\lib\\PublicRoute.js",[],"C:\\Users\\qhsl0\\Documents\\beginner_gain\\client\\src\\lib\\PrivateRoute.js",[],"C:\\Users\\qhsl0\\Documents\\beginner_gain\\client\\src\\lib\\PrismImport.js",[],"C:\\Users\\qhsl0\\Documents\\beginner_gain\\client\\src\\components\\NotFound.js",[],"C:\\Users\\qhsl0\\Documents\\beginner_gain\\client\\src\\components\\TagBox.js",["111","112"],"import React, {useState, useCallback, useEffect } from \"react\";\r\nimport \"../css/Components.css\";\r\n\r\nconst TagItem = React.memo(({ tag, onRemove }) => (\r\n\t<div className=\"tagtest\">{tag}<button className=\"btntest\" onClick={() => onRemove(tag)}>x</button></div>\r\n));\r\n\r\nconst TagList = React.memo(({tags, onRemove}) => (\r\n\t<div>\r\n\t\t{tags.map(tag => (\r\n\t\t\t<TagItem key={tag} tag={tag} onRemove={onRemove}/>\r\n\t\t))}\r\n\t</div>\r\n));\r\n\r\nconst TagBox = ({change}) => {\r\n\tconst [input, setInput] = useState('');\r\n\tconst [localTags, setLocalTags] = useState([]);\r\n\r\n\tconst tagSet = (localTags) =>{\r\n\t\tchange(localTags);\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\ttagSet(localTags);\r\n\t}, []);\r\n\r\n\tconst insertTag = useCallback(\r\n\t\ttag => {\r\n\t\t\tif(!tag) return;\r\n\t\t\tif(localTags.includes(tag)) return;\r\n\t\t\tif(localTags.length < 3){\r\n\t\t\t\tsetLocalTags([...localTags, tag]);\r\n\t\t\t}\r\n\t\t},\r\n\t\t[localTags],\r\n\t);\r\ntagSet(localTags);\r\n\tconst onRemove = useCallback(\r\n\t\ttag => {\r\n\t\t\tsetLocalTags(localTags.filter(t => t !== tag));\r\n\t\t},\r\n\t\t[localTags],\r\n\t);\r\n\r\n\tconst onChange = useCallback(e => {\r\n\t\tsetInput(e.target.value);\r\n\t}, []);\r\n\r\n\tconst onSubmit = useCallback(\r\n\t\te => {\r\n\t\t\tinsertTag(input.trim());\r\n\t\t\tsetInput('');\r\n\t\t},\r\n\t\t[input, insertTag],\r\n\t);\r\n\r\n\tconst handleKeyPress = useCallback(e =>{\r\n\t\tif(e.keyCode === 32)\r\n\t\t\tonSubmit();\r\n\t})\t\r\n\r\n\r\n\treturn(\r\n\t\t<div>\r\n\t\t\t<input\r\n\t\t\t\tclassName=\"tag-input\"\r\n\t\t\t\tplaceholder=\"태그를 입력하세요\"\r\n\t\t\t\tvalue={input}\r\n\t\t\t\tonChange={onChange}\r\n\t\t\t\tonKeyDown={handleKeyPress}\r\n\t\t\t/>\r\n\t\t\t<span className=\"tag-list\">\r\n\t\t\t\t<TagList tags={localTags} onRemove={onRemove}/>\r\n\t\t\t</span>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default TagBox;",["113","114"],{"ruleId":"115","replacedBy":"116"},{"ruleId":"117","replacedBy":"118"},{"ruleId":"119","severity":1,"message":"120","line":67,"column":5,"nodeType":"121","endLine":67,"endColumn":7,"suggestions":"122"},{"ruleId":"123","severity":1,"message":"124","line":9,"column":9,"nodeType":"125","messageId":"126","endLine":9,"endColumn":11},{"ruleId":"123","severity":1,"message":"127","line":13,"column":8,"nodeType":"125","messageId":"126","endLine":13,"endColumn":19},{"ruleId":"123","severity":1,"message":"128","line":22,"column":9,"nodeType":"125","messageId":"126","endLine":22,"endColumn":16},{"ruleId":"119","severity":1,"message":"129","line":104,"column":5,"nodeType":"121","endLine":104,"endColumn":18,"suggestions":"130"},{"ruleId":"119","severity":1,"message":"131","line":26,"column":5,"nodeType":"121","endLine":26,"endColumn":7,"suggestions":"132"},{"ruleId":"119","severity":1,"message":"133","line":58,"column":25,"nodeType":"125","endLine":58,"endColumn":36},{"ruleId":"115","replacedBy":"134"},{"ruleId":"117","replacedBy":"135"},"no-native-reassign",["136"],"no-negated-in-lhs",["137"],"react-hooks/exhaustive-deps","React Hook useEffect has missing dependencies: 'post.commentN', 'post.hit', 'post.idx', and 'post.name'. Either include them or remove the dependency array.","ArrayExpression",["138"],"no-unused-vars","'PW' is assigned a value but never used.","Identifier","unusedVar","'onPWHandler' is assigned a value but never used.","'loading' is assigned a value but never used.","React Hook useEffect has missing dependencies: 'loadList', 'loadSearch', and 'name'. Either include them or remove the dependency array.",["139"],"React Hook useEffect has missing dependencies: 'localTags' and 'tagSet'. Either include them or remove the dependency array.",["140"],"React Hook useCallback does nothing when called with only one argument. Did you forget to pass an array of dependencies?",["136"],["137"],"no-global-assign","no-unsafe-negation",{"desc":"141","fix":"142"},{"desc":"143","fix":"144"},{"desc":"145","fix":"146"},"Update the dependencies array to be: [post.commentN, post.hit, post.idx, post.name]",{"range":"147","text":"148"},"Update the dependencies array to be: [loadList, loadSearch, name, searchValue]",{"range":"149","text":"150"},"Update the dependencies array to be: [localTags, tagSet]",{"range":"151","text":"152"},[2530,2532],"[post.commentN, post.hit, post.idx, post.name]",[3302,3315],"[loadList, loadSearch, name, searchValue]",[661,663],"[localTags, tagSet]"]